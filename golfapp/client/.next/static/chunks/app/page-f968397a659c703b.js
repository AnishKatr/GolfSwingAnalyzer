(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2402:(e,r,s)=>{Promise.resolve().then(s.bind(s,3255))},3255:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>O});var a=s(5155),t=s(2115),l=s(8684),n=s(9191),i=s(3348),d=s(2317),o=s(1027),c=s(3463),f=s(9795);function u(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,f.QP)((0,c.$)(r))}let m=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=t.forwardRef((e,r)=>{let{className:s,variant:t,size:l,asChild:n=!1,...i}=e,o=n?d.DX:"button";return(0,a.jsx)(o,{className:u(m({variant:t,size:l,className:s})),ref:r,...i})});x.displayName="Button";let g=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:u("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});g.displayName="Card";let h=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:u("flex flex-col space-y-1.5 p-6",s),...t})});h.displayName="CardHeader";let p=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:u("text-2xl font-semibold leading-none tracking-tight",s),...t})});p.displayName="CardTitle";let v=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:u("text-sm text-muted-foreground",s),...t})});v.displayName="CardDescription";let b=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:u("p-6 pt-0",s),...t})});b.displayName="CardContent";let y=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:u("flex items-center p-6 pt-0",s),...t})});y.displayName="CardFooter";var j=s(7217);let w=j.bL,N=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(j.B8,{ref:r,className:u("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t})});N.displayName=j.B8.displayName;let k=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(j.l9,{ref:r,className:u("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t})});k.displayName=j.l9.displayName;let S=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(j.UC,{ref:r,className:u("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t})});function D(e){let{onUpload:r}=e,[s,n]=(0,t.useState)(!1),i=(0,t.useRef)(null);return(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-12 text-center ".concat(s?"border-green-500 bg-green-50":"border-gray-300"),onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>{n(!1)},onDrop:e=>{if(e.preventDefault(),n(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0){let s=e.dataTransfer.files[0];s.type.startsWith("video/")?r(s):alert("Please upload a video file")}},children:[(0,a.jsx)("input",{type:"file",ref:i,onChange:e=>{e.target.files&&e.target.files.length>0&&r(e.target.files[0])},accept:"video/*",className:"hidden"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-8 w-8 text-green-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Upload your golf swing video"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop your video here, or click to browse"}),(0,a.jsx)(x,{onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},className:"bg-green-600 hover:bg-green-700",children:"Select Video"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Supported formats: MP4, MOV, AVI (max 100MB)"})]})]})}S.displayName=j.UC.displayName;var R=s(8283);let C=t.forwardRef((e,r)=>{let{className:s,type:t,...l}=e;return(0,a.jsx)("input",{type:t,className:u("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...l})});C.displayName="Input";var A=s(4920);let z=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(A.bL,{ref:r,className:u("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});z.displayName=A.bL.displayName,t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(A._V,{ref:r,className:u("aspect-square h-full w-full",s),...t})}).displayName=A._V.displayName,t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(A.H4,{ref:r,className:u("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})}).displayName=A.H4.displayName;var _=s(2341);let E=t.forwardRef((e,r)=>{let{className:s,children:t,...l}=e;return(0,a.jsxs)(_.bL,{ref:r,className:u("relative overflow-hidden",s),...l,children:[(0,a.jsx)(_.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,a.jsx)(L,{}),(0,a.jsx)(_.OK,{})]})});E.displayName=_.bL.displayName;let L=t.forwardRef((e,r)=>{let{className:s,orientation:t="vertical",...l}=e;return(0,a.jsx)(_.VM,{ref:r,orientation:t,className:u("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,a.jsx)(_.lr,{className:"relative flex-1 rounded-full bg-border"})})});function P(e){let{initialAnalysis:r}=e,[s,l]=(0,t.useState)([]),[n,i]=(0,t.useState)(""),[d,o]=(0,t.useState)(!1),c=(0,t.useRef)(null);(0,t.useEffect)(()=>{r&&l([{id:"1",content:r,sender:"ai",timestamp:new Date}])},[r]),(0,t.useEffect)(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[s]);let f=async()=>{if(!n.trim())return;let e={id:Date.now().toString(),content:n,sender:"user",timestamp:new Date};l(r=>[...r,e]),i(""),o(!0);try{let e=await fetch("http://127.0.0.1:5000/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,history:s.map(e=>({role:"user"===e.sender?"user":"assistant",content:e.content}))})});if(!e.ok)throw Error("Failed to get response");let r=await e.json(),a={id:(Date.now()+1).toString(),content:r.response,sender:"ai",timestamp:new Date};l(e=>[...e,a])}catch(r){console.error("Error sending message:",r);let e={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting to the server. Please try again.",sender:"ai",timestamp:new Date};l(r=>[...r,e])}finally{o(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(E,{className:"flex-grow pr-4 mb-4",ref:c,children:(0,a.jsxs)("div",{className:"space-y-4",children:[s.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"flex items-start gap-2 max-w-[80%] ".concat("user"===e.sender?"flex-row-reverse":""),children:[(0,a.jsx)(z,{className:"h-8 w-8 ".concat("ai"===e.sender?"bg-green-600":"bg-gray-600"),children:(0,a.jsx)("span",{className:"text-xs text-white font-bold",children:"ai"===e.sender?"AI":"You"})}),(0,a.jsxs)("div",{className:"rounded-lg px-4 py-2 ".concat("user"===e.sender?"bg-primary text-primary-foreground":"bg-muted"),children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,a.jsx)("div",{className:"text-xs mt-1 ".concat("user"===e.sender?"text-primary-foreground/70":"text-muted-foreground"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},e.id)),d&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"flex items-start gap-2 max-w-[80%]",children:[(0,a.jsx)(z,{className:"h-8 w-8 bg-green-600",children:(0,a.jsx)("span",{className:"text-xs text-white font-bold",children:"AI"})}),(0,a.jsx)("div",{className:"rounded-lg px-4 py-2 bg-muted",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,a.jsx)("div",{className:"h-2 w-2 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,a.jsx)("div",{className:"h-2 w-2 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C,{value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Ask about your swing...",className:"flex-grow",disabled:d}),(0,a.jsx)(x,{onClick:f,size:"icon",disabled:d||!n.trim(),className:"bg-green-600 hover:bg-green-700",children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})]})]})}function O(){let[e,r]=(0,t.useState)("upload"),[s,d]=(0,t.useState)(null),[o,c]=(0,t.useState)(null),[f,u]=(0,t.useState)(!1),m=async e=>{d(URL.createObjectURL(e)),r("preview")},j=async()=>{if(s){u(!0);try{let e=new FormData,a=await fetch(s).then(e=>e.blob());e.append("video",a,"swing.mp4");let t=await fetch("http://127.0.0.1:5000/analyze",{method:"POST",body:e});if(!t.ok)throw Error("Failed to analyze video");let l=await t.json();c(l.analysis),r("chat")}catch(e){console.error("Error analyzing video:",e),c("Sorry, we encountered an error analyzing your swing. Please try again.")}finally{u(!1)}}};return(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-4 md:p-24 bg-gradient-to-b from-green-50 to-white",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-8 text-green-800",children:"Golf Swing Analyzer"}),(0,a.jsxs)(w,{value:e,onValueChange:r,className:"w-full",children:[(0,a.jsxs)(N,{className:"grid grid-cols-3 mb-8",children:[(0,a.jsxs)(k,{value:"upload",className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Upload"})]}),(0,a.jsxs)(k,{value:"preview",disabled:!s,className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Preview"})]}),(0,a.jsxs)(k,{value:"chat",disabled:!o,className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Chat"})]})]}),(0,a.jsx)(S,{value:"upload",children:(0,a.jsxs)(g,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Upload Your Swing"}),(0,a.jsx)(v,{children:"Upload a video of your golf swing for AI analysis"})]}),(0,a.jsx)(b,{children:(0,a.jsx)(D,{onUpload:m})})]})}),(0,a.jsx)(S,{value:"preview",children:(0,a.jsxs)(g,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Preview Your Swing"}),(0,a.jsx)(v,{children:"Review your video before analysis"})]}),(0,a.jsx)(b,{children:s&&(0,a.jsx)("div",{className:"aspect-video bg-black rounded-md overflow-hidden",children:(0,a.jsx)("video",{src:s,controls:!0,className:"w-full h-full object-contain"})})}),(0,a.jsx)(y,{className:"flex justify-end",children:(0,a.jsx)(x,{onClick:j,disabled:f,className:"bg-green-600 hover:bg-green-700",children:f?"Analyzing...":"Analyze Swing"})})]})}),(0,a.jsx)(S,{value:"chat",children:(0,a.jsxs)(g,{className:"h-[600px] flex flex-col",children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Swing Analysis"}),(0,a.jsx)(v,{children:"Chat with our AI coach about your swing"})]}),(0,a.jsx)(b,{className:"flex-grow overflow-hidden",children:(0,a.jsx)(P,{initialAnalysis:o})})]})})]})]})})}L.displayName=_.VM.displayName}},e=>{var r=r=>e(e.s=r);e.O(0,[24,441,517,358],()=>r(2402)),_N_E=e.O()}]);